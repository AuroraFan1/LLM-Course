# ğŸ¥ MedAssist - åŒ»ç–—æ™ºèƒ½é—®ç­”ç³»ç»Ÿ

## 1 é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®èƒŒæ™¯

æœ¬é¡¹ç›®åŸºäºRAGæ¶æ„ï¼Œæ„å»ºäº†ä¸€ä¸ªä¸“ä¸šåŒ»ç–—æ™ºèƒ½é—®ç­”ç³»ç»Ÿã€‚ç³»ç»Ÿæ•´åˆäº†120ä¸‡+çœŸæ˜¯åŒ»ç–—ç—…ä¾‹æ•°æ®ï¼Œæ—¨åœ¨ä¸ºç”¨æˆ·æä¾›å‡†ç¡®ã€å¯é çš„åŒ»ç–—å‚è€ƒä¿¡æ¯ã€‚

### 1.2 æŠ€æœ¯æ ˆ

- **ç¼–ç¨‹è¯­è¨€**ï¼šPython3.9
- **æ ¸å¿ƒæ¡†æ¶**ï¼šLangChainï¼ŒStreamlit
- **å‘é‡æ•°æ®åº“**ï¼šChromaDB
- **å¤§æ¨¡å‹**ï¼šQwen2.5-7B

## 2 æ•°æ®æ¥æºä¸å¤„ç†

### 2.1 æ•°æ®æ¥æº

æ•°æ®é›†é€‰ç”¨MedDialogï¼Œè¯¥æ•°æ®é›†å…±åŒ…å«650ä¸‡æ¡çœŸå®ç—…ä¾‹æ•°æ®ï¼Œç”±äºæ•°æ®é›†è¿‡äºåºå¤§ï¼Œå¤„ç†èŠ±é”€å¤ªå¤§ï¼Œæ‰€ä»¥é‡‡ç”¨é€‰å–æ¯å¹´ä¸­å‰5ä¸‡ä»½ç—…ä¾‹æ„å»ºå‘é‡æ•°æ®åº“ã€‚

### 2.2 æ•°æ®ç»“æ„

æ¯ä¸ªç—…ä¾‹éƒ½åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

	{
	    "id": "å”¯ä¸€æ ‡è¯†ç¬¦",
	    "year": "å¹´ä»½",
	    "disease": "ç–¾ç—…åç§°",
	    "symptoms": "ç—‡çŠ¶æè¿°",
	    "doctor_reply": "åŒ»ç”Ÿå»ºè®®",
	    "hospital": "åŒ»é™¢åç§°",
	    "department": "ç§‘å®¤",
	    "url": "åŸå§‹é“¾æ¥",
	    "full_text": "å®Œæ•´æ–‡æœ¬"
	}
### 2.3 æ•°æ®å¤„ç†æµç¨‹

	åŸå§‹æ–‡æœ¬ â†’ ç—…ä¾‹è§£æ â†’ æ–‡æ¡£è½¬æ¢ â†’ æ–‡æœ¬åˆ†å— â†’ å‘é‡åŒ–å­˜å‚¨
	â†“
	æ•°æ®æ¸…æ´— â†’ æ ¼å¼åŒ–æ ‡å‡† â†’ è´¨é‡éªŒè¯ â†’ æ‰¹é‡å¤„ç†
## 3 å®ç°

- **3.1 è¿­ä»£ä¸€**ï¼šå®Œæˆæ•°æ®é¢„å¤„ç†ï¼Œå‘é‡æ•°æ®åº“æ„å»ºã€Streamlitç•Œé¢å¼€å‘ï¼Œå®ç°åŸºæœ¬åŠŸèƒ½ã€‚

  [RunResults](https://github.com/AuroraFan1/medical_rag/blob/main/PNG/RunResults.png)

- **3.2 è¿­ä»£äºŒ**ï¼šç¼–å†™ä»£ç å¯¹Qwen-2.5-7B-Instructæ¨¡å‹è¿›è¡Œå¾®è°ƒï¼Œä»å·²ç»å¤„ç†çš„æ•°æ®ä¸­é€‰å–æ•°æ®ä½œä¸ºè®­ç»ƒæ•°æ®å’ŒéªŒè¯æ•°æ®ï¼Œé€‰å–è®­ç»ƒé›†å¤§å°ä¸º2959ï¼Œé€‰å–éªŒè¯é›†ä¸º329.å¾®è°ƒåœ¨AutoDLä¸­ç§Ÿç”¨RTX 5090(32GB)è¿›è¡Œï¼Œè€—æ—¶2hï¼Œçºµè§‚æ•´ä¸ªè®­ç»ƒæµç¨‹ï¼ŒæŸå¤±æ›²çº¿æŒç»­ä¸‹é™ï¼Œå‡†ç¡®ç‡æ›²çº¿æŒç»­ä¸Šå‡ï¼Œè®­ç»ƒ-éªŒè¯å·®è·é€æ¸å‡å°ï¼Œä¸å­˜åœ¨è¿‡æ‹Ÿåˆé—®é¢˜ã€‚

  [LoadModel](https://github.com/AuroraFan1/medical_rag/blob/main/PNG/LoadModel.png)

  [TrainVerification](https://github.com/AuroraFan1/medical_rag/blob/main/PNG/TrainVerification.png)

  [EndTraining](https://github.com/AuroraFan1/medical_rag/blob/main/PNG/EndTraining.png)

- **3.3 è¿­ä»£ä¸‰**ï¼šç¼–å†™ä»£ç å¯¹æ¨¡å‹è¿›è¡Œè¯„ä¼°ï¼Œç”±äºç¡¬ä»¶é™åˆ¶ï¼Œåˆå§‹é€‰æ‹©æ•°æ®é›†æ•°é‡æœ‰é™ï¼Œä¸”å¯èƒ½è´¨é‡ä¸€èˆ¬ï¼Œå„ç§ç—…ä¾‹åˆ†å¸ƒä¸å‡ï¼›åŒæ—¶ç”±äºåœ¨å¾®è°ƒé˜¶æ®µéšæœºé€‰å–è®­ç»ƒé›†å’ŒéªŒè¯é›†ä¸”æ•°é‡æ›´å°‘ï¼Œå¯¼è‡´è¯„ä¼°æ•ˆæœè¾ƒå·®ï¼Œå¦‚æœèƒ½å¤Ÿæœ‰è¶³å¤Ÿç¡¬ä»¶æ”¯æŒï¼Œå°†æ•°æ®é‡æ”¹è¿›åï¼Œç³»ç»Ÿåº”è¯¥èƒ½æä¾›æ›´åŠ çœŸå®ã€å¯é ã€æœ‰ä»·å€¼çš„åŒ»ç–—ä¿¡æ¯æœåŠ¡ã€‚ç”±äºè¯„ä¼°ç»“æœè¡¨ç°ä¸ä½³ã€‚

  [StartEvaluation](https://github.com/AuroraFan1/medical_rag/blob/main/PNG/StartEvaluation.png)
  
  [EvaluationTime](https://github.com/AuroraFan1/medical_rag/blob/main/PNG/EvaluationTime.png)
  
  â€‹	æˆ‘å°†è¯¦ç»†ä»‹ç»è¯„ä¼°æ–¹æ³•ã€‚é¦–å…ˆæ˜¯æ£€ç´¢è´¨é‡è¯„ä¼°ï¼Œè®¡ç®—é—®é¢˜ä¸æ£€ç´¢ç»“æœçš„ç›¸å…³æ€§ï¼Œé€šè¿‡åˆ†è¯ï¼Œè®¡ç®—å…³é”®è¯é‡å çš„æ¯”ä¾‹ï¼Œæœ€ç»ˆè¿”å›å¹³å‡ç›¸å…³æ€§ã€‚ç›¸å…³æ€§ä¸ä½³çš„åŸå› ä¹Ÿå¯èƒ½æ˜¯ç”±äºç®€å•çš„åˆ†è¯å¯¼è‡´åŒæ ·ç±»å‹çš„é—®é¢˜ä¸å…·æœ‰é‡å è¯ï¼›ç¬¬äºŒæ˜¯ç”Ÿæˆè´¨é‡è¯„ä¼°ï¼Œä½¿ç”¨ä¸‰ä¸ªæŒ‡æ ‡åˆ†åˆ«æ˜¯BLEUåˆ†æ•°ï¼šåŸºäºn-gramé‡å ï¼Œæ¯”è¾ƒå€™é€‰æ–‡æœ¬å’Œå‚è€ƒæ–‡æœ¬çš„n-gramé‡å åº¦ï¼›ROUGE-Låˆ†æ•°ï¼šåŸºäºæœ€é•¿å…¬å…±å­åºåˆ—çš„F1åˆ†æ•°ï¼›è¯­ä¹‰ç›¸ä¼¼åº¦ï¼šåŸºäºè¯é‡å çš„Jaccardç›¸ä¼¼åº¦ï¼Œç›¸ä¼¼åº¦=äº¤é›†å¤§å° / å¹¶é›†å¤§å°ã€‚æœ€åæ˜¯è¯„ä¼°å“åº”æ—¶é—´ï¼Œè®°å½•æŸ¥è¯¢å¼€å§‹åˆ°ç»“æŸçš„æ—¶é—´å·®ã€‚
  
  â€‹	åœ¨åšè¯„ä¼°æ—¶ï¼Œæ¯é¡¹è¯„ä¼°é€‰ç”¨æ ·æœ¬ä¹Ÿè¾ƒå°‘ï¼Œéƒ½æ˜¯20-50ä¸ªæ ·æœ¬ï¼Œç»Ÿè®¡æ„ä¹‰ä¸å¼ºã€‚å¾ˆå¤§ç¨‹åº¦ä¸Šå¿½ç•¥äº†åŒ»å­¦å®ä½“ï¼Œæ­£ç¡®æ€§æœ¬èº«è¾ƒå·®ã€‚
  
- **3.4 è¿­ä»£å››**ï¼š

  

## 4 é¡¹ç›®åœ°å€åŠå¯åŠ¨

- GitHubä»“åº“ï¼šhttps://github.com/AuroraFan1/medical_rag.git
- å¯åŠ¨æ–¹å¼

> python data_processing.py

> streamlit run streamlit_app.py





